<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
    <head>
        {{ partial "head-open" . }}
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{{ .Title }}</title>
        {{ if .Site.Params.favicon }}
            <link rel="icon" href="{{ .Site.Params.favicon | absURL }}">
        {{ end }}
        {{ partial "css" . }} {{ partial "js" . }} {{ hugo.Generator }}
        {{ with .OutputFormats.Get "RSS" }}
            <link href="{{ .RelPermalink }}" rel="alternate" type="{{ .MediaType.Type }}" title="{{ $.Site.Title }}" />
            <link href="{{ .RelPermalink }}" rel="feed" type="{{ .MediaType.Type }}" title="{{ $.Site.Title }}" />
        {{ end }}


        {{ if .Site.Params.MathJax | default true }}
            <script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        {{ end }}

        {{ partial "head-close" . }}
    </head>

    <body>
        {{ partial "body-open" . }}
        <nav class="top-nav">
            <div class="nav-container">
                <a href="/" class="nav-brand">{{ .Site.Title }}</a>
                
                <!-- Hamburger button for mobile -->
                <button class="hamburger" id="hamburger-btn" aria-label="Menu" onclick="toggleMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <ul class="nav-menu" id="nav-menu">
                    {{ $currentPage := . }}
                    {{ range .Site.Menus.main }}
                        {{ if .Page }}
                            <li>
                                <a href="{{ .Page.RelPermalink }}" 
                                   {{ if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }}class="active"{{ end }}>
                                    {{ .Name }}
                                </a>
                            </li>
                        {{ else if .URL }}
                            <li>
                                <a href="{{ .URL }}" 
                                   {{ if or ($currentPage.IsMenuCurrent "main" .) ($currentPage.HasMenuCurrent "main" .) }}class="active"{{ end }}>
                                    {{ .Name }}
                                </a>
                            </li>
                        {{ end }}
                    {{ end }}
                </ul>
            </div>
        </nav>
